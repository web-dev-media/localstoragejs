const localstorage={options:{cacheTime:86400,cacheTimeKey:"",cacheKey:""},cacheTime:function(){let self=this,functions={setKey:function(){let cacheTimeKey=self.options.cacheKey?self.options.cacheKey+"_cacheTime":"";cacheTimeKey&&(self.options.cacheTimeKey=cacheTimeKey)},getKey:function(){return self.options.cacheTimeKey},get:function(){let t=localStorage.getItem(self.options.cacheTimeKey);return t||this.set()},set:function(){return localStorage.setItem(self.options.cacheTimeKey,(new Date).getTime()+self.options.cacheTime)},purge:function(){localStorage.removeItem(self.options.cacheTimeKey)}};return functions.setKey(),functions},shouldUpdateStorage:function(localStorageKey){return!this.get(localStorageKey)||(!this.cacheTime().get()||this.cacheTime().get()<(new Date).getTime())},update:function(localStorageKey,data){this.options.cacheKey=localStorageKey||!1,localStorage.setItem(this.cacheTime().getKey(),(new Date).getTime()+this.options.cacheTime),localStorage.setItem(localStorageKey,JSON.stringify(data))},get:function(localStorageKey){return this.options.cacheKey=localStorageKey||!1,JSON.parse(localStorage.getItem(this.options.cacheKey))},purge:function(localStorageKey){localStorage.removeItem(localStorageKey),this.cacheTime().purge()}};module.exports=localstorage;